<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">

<html>
  <head><title>po-mode</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <style type="text/css">
    body { font-family: sans-serif; margin: 2em 6em 0 3em; }
    h1, h2, h3, dt { color: #494a82; margin-top: 3ex; margin-bottom: 1ex;}
    dt { font-weight: bold; margin-top: 1ex; }
    dd { margin-bottom: 1ex; }
  </style>
  </head>
<body>

<h1>po-mode</h1>

<p>I've done some changes to
<a href="http://www.gnu.org/software/gettext/">GNU Gettext</a>'s 
<em>po-mode</em>, a major mode for translating PO files in 
<a href="http://www.gnu.org/software/emacs/">Emacs</a>.</p>

<p>Knowing nothing about best practices in Emacs Lisp, I've tried as
best I can to follow the programming style in po-mode.el. (Does that
teach me bad habits? I'd appreciate any warnings :-)) This is the
first time I've tried doing stuff beyond the simplest Emacs
macros. The experience has taught me a lot I didn't already know about
Emacs. Since Emacs Lisp is closer to Common Lisp than I thought, most
problems are simply a matter of browsing the
<a href="http://www.delorie.com/gnu/docs/elisp-manual-21/elisp_toc.html">manual</a>,
the <a href="http://www.emacswiki.org/">EmacsWiki</a> or other Emacs
Lisp files on the system. I miss Common Lisp's REPL, though&nbsp;...</p>

<h2>My changes</h2>

<h3>po-mode 2.01.ghk.3</h3>

<dl>

  <dt>Alternative workflows for po-auto-select-entry</dt>
  <dd>Po-mode's default workflow cycles through all the untranslated
  entries before taking on the fuzzies. I find it a lot more
  convenient to translate both untranslated and fuzzy messages in the
  same run. I added a configuration setting for
  that: <em>po-auto-select-mode</em> can be set to
  either <em>by-type</em> (default) or <em>by-order</em>.</dd>

</dl>

<h3>po-mode 2.01.ghk.2</h3>

<dl>

  <dt>Fixed the fuzzy counter</dt>
  <dd>Entries that are fuzzy at the same time as being untranslated or
  obsolete were incorrectly counted as both fuzzy and untranslated or
  obsolete. These should not be counted as fuzzy.  This change makes
  po-mode agree with msgfmt. (I've never seen fuzzy+untranslated
  entries, but a FIXME comment in the source code warned against
  it. Fuzzy+obsolete entries happens all the time, at least in the
  projects I work on.)</dd>

  <dt>po-subedit-insert-next-tag po-subedit-insert-next-arg</dt>
  <dd>This idea is stolen from KBabel. Tags and arguments should
  normally be kept verbatim in the translation.</dd>
  <dd>Press C-c C-a to insert the next argument that occurs in
  msgid. The supported argument types are C/C++-style printf
  arguments, Qt QString arguments, and various OpenOffice.org
  arguments.</dd>
  <dd>Press C-c C-n to insert the next XML tag or entity that occurs in msgid.</dd>

</dl>

<h3>po-mode 2.01.ghk.1</h3>

<dl>
  <dt>po-msgid-to-msgstr</dt>
  <dd>The function that copies msgid to msgstr (C-j) is modified so
  that KDE-style context comments are ignored. KDE and OpenOffice.org
  uses these a lot to distinguish identical msgids, but they should
  never appear in the translated text.</dd>

  <dt>po-update-header</dt>
  <dd>Po-mode had a function that updated <em>PO-Revision-Date</em>. I
  expanded it to a generic function that also updates
  <em>Last-Translator</em>, <em>Language-Team</em>, and 
  <em>X-Generator</em>. The variables <em>po-translator</em>
  and <em>po-language-team</em> should be set by the
  translator. <em>X-Generator</em> advertises the version of Emacs and
  po-mode, for instance <em>Emacs 22.0.50.1, po-mode
  2.01.ghk.1</em>. </dd>

</dl>

<h2>darcs</h2>

<p>I've used this little project to get to know the versioning system
<a href="http://darcs.net/">darcs</a> better. I already know that it's
excellent for small, local repositories, but this time, I wanted to
push my patches to a public repository. I had some trouble
getting <em>darcs push</em> to behave, but now it seems to work
fine. It bugs me that I don't know what I did wrong, though.</p>
</body>
</html>
